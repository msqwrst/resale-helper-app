Q: как активировать vip
A: Открой вкладку VIP/AI → введи код → нажми “Активировать”. Затем нажми “Обновить” статус сверху, если нужно.

Q: где вводить код vip
A: Во вкладке VIP/AI есть блок “Активировать доступ по коду”. Туда вводишь код и нажимаешь “Активировать”.

Q: код не принимается
A: Проверь: 1) нет пробелов в начале/конце 2) вводишь правильные символы 3) код не истёк 4) код не был использован ранее.

Q: ошибка BAD_CODE
A: Это означает, что код неверный. Проверь раскладку клавиатуры, лишние пробелы и правильность символов.

Q: ошибка CODE_EXPIRED
A: Код истёк. Нужен новый код от админа.

Q: ошибка CODE_LIMIT
A: Код уже был использован или достиг лимита активаций. Попроси другой код.

Q: ошибка NO_TOKEN
A: Нужно войти в аккаунт. Перезайди, проверь авторизацию, токен в localStorage.

Q: как проверить статус vip
A: Открой VIP/AI и посмотри плашку статуса (FREE/VIP/PROMO/ADMIN). Нажми “Обновить” для актуального статуса.

Q: что даёт promo
A: PROMO — временный доступ к AI/функциям без покупки VIP, обычно с датой окончания.

Q: что даёт admin
A: ADMIN — полный доступ без лимитов, доступ к админ-функциям и управлению ключами/пользователями.

Q: почему free не может пользоваться ai
A: AI доступ закрыт для FREE. Нужно VIP/PROMO/ADMIN. Вводишь код → активируешь → обновляешь статус.

Q: почему вылезает модалка нет vip
A: Это защита: если статус FREE — показывается блокер. Введи код в VIP/AI или выйди назад.

Q: как снять блокер vip
A: Либо активировать код VIP/PROMO, либо уйти на другую вкладку. После активации нажми “Обновить”.

Q: лимит сообщений vip
A: У VIP есть дневной лимит сообщений (например 5/день). ADMIN и PROMO — без лимитов.

Q: почему лимит не сбрасывается
A: Лимит привязан к текущему дню (локальная дата). Он сбросится автоматически на следующий день.

Q: где хранится история чата
A: История хранится в localStorage в ключе ai_chat_history_v1 (если включено в коде).

Q: как очистить историю чата
A: Можно сделать кнопку “Очистить” или вручную удалить ключ localStorage ai_chat_history_v1.

Q: чат отвечает заглушкой
A: Значит ты ещё не подключил backend чат. Нужен POST запрос на http://localhost:3002/chat и запущенный chat.js.

Q: чат сервер недоступен
A: Проверь что запущен npm run chat и порт 3002 свободен. Открой http://localhost:3002/health.

Q: health не открывается
A: Значит сервер чата не запущен или порт другой. Запусти node chat.js в src/electron/chat.

Q: ошибка Cannot find package express
A: В папке src/electron/chat должен быть package.json (с точкой) и node_modules. Сделай npm install в этой папке.

Q: ошибка package,json
A: Это неправильное имя файла. Должно быть package.json. Переименуй и заново сделай npm install.

Q: почему electron закрывается при запуске app
A: Если concurrently с -k и один из процессов падает (backend/bot/chat), то он гасит остальные. Проверь логи какой процесс упал.

Q: что делать если порт занят
A: Поменяй PORT в chat.js (например 3005) и в фронте поменяй fetch URL на новый порт.

Q: как сделать чтобы чат работал без интернета
A: Этот чат локальный, интернет не нужен. Нужен только запущенный chat backend и фронт.

Q: как сделать чтобы чат понимал опечатки
A: Используй string-similarity и поиск по похожести. Порог 0.45 регулирует “насколько похоже” нужно совпадение.

Q: почему он не понимает некоторые вопросы
A: Добавь больше Q/A в knowledge.txt и добавь синонимы вопросов. Чем больше вариантов формулировок — тем лучше.

Q: как добавить много ответов быстро
A: Пиши один смысл — 5-10 вариантов Q. Например: “не работает таймер”, “таймер сломан”, “таймер не звонит”, “таймер без звука”.

Q: таймер не звонит
A: Проверь: 1) включён ли звук в приложении 2) файл mp3 существует 3) громкость Windows не на нуле 4) устройство вывода звука правильное.

Q: рингтон не играет
A: Проверь путь к mp3, импорт, и что audio.play() вызывается после пользовательского действия (клик/Enter), иначе браузер может блокировать звук.

Q: как зациклить рингтон
A: Создай audio = new Audio(mp3); audio.loop = true; audio.play(); и выключай при остановке таймера: audio.pause(); audio.currentTime = 0;

Q: почему звук работает в старом коде но не в новом
A: Возможно изменился путь импорта mp3 или вызов audio.play(). Проверь консоль и наличие файла в src/assets.

Q: почему калькулятор сбрасывается
A: Если state не сохраняется в localStorage, при переходе вкладки он сбрасывается. Решение: сохранять значения в localStorage и восстанавливать при загрузке.

Q: backend не запускается
A: Проверь что node index.js запускается в src/electron/backend, нет ошибок типа “Cannot use import outside module”.

Q: ошибка Cannot use import statement outside module
A: Значит файл запускается как CommonJS. Исправь: либо добавь "type":"module" в package.json, либо переименуй файл в .mjs, либо используй require().

Q: как сделать один запуск для dev backend bot chat
A: Используй concurrently -k "npm run dev" "npm run backend" "npm run bot" "npm run chat" "wait-on http://localhost:5173 && electron ."

Q: антивирус ругается на exe
A: Это норм для неизвестных сборок. Решения: подписывать код (дорого), повышать репутацию, уменьшить подозрительные действия, дать инструкцию пользователю добавить в исключения.

Q: как сделать программу доверенной без денег
A: Полностью “как у крупных” без подписи сложно. Но можно: не использовать подозрительные апдейтеры, не писать в системные папки, не паковать странные DLL, публиковать хэши, объяснять пользователю.

Q: почему windows смартскрин блокирует
A: Из-за отсутствия подписи и репутации. Чем больше установок без жалоб — тем меньше блокировок со временем.

Q: как обновления работают
A: Обычно electron-updater берёт релизы с GitHub. Нужны правильные настройки и подпись для “красивого” UX на Windows.

Q: как добавить команду help
A: В knowledge.txt добавь Q: /help A: список команд. В коде можешь первым делом проверять if (norm==="/help") return ...

Q: /help
A: Доступные команды: /help, /status, /clear. Можно писать обычным текстом: “не работает таймер”, “как активировать vip”, “ошибка backend”.

Q: /status
A: Статус показывается в плашке FREE/VIP/PROMO/ADMIN. Нажми “Обновить” чтобы подтянуть актуальные данные.

Q: /clear
A: Чтобы очистить историю, нужно удалить localStorage ключ ai_chat_history_v1 или добавить кнопку очистки в интерфейсе.

Q: бот не отвечает на мои темы
A: Добавь новые Q/A блоки в knowledge.txt: вопросы разными словами и короткие конкретные ответы.

Q: как написать чтобы бот понял
A: Пиши проще: 3-8 слов. Пример: “таймер не звонит”, “код vip не работает”, “ошибка backend import”.

Q: как сделать чтобы бот был умнее
A: 1) больше знаний в knowledge.txt 2) больше вариантов вопросов 3) разбить ответы на пошаговые инструкции 4) снизить порог похожести, но не слишком (иначе будет путать).

Q: почему он отвечает не тем
A: Порог похожести слишком низкий или вопросы в базе слишком похожи друг на друга. Подними порог (например 0.55) и уточни формулировки Q.

Q: как добавить раздел по установке
A: Добавь блоки Q/A: “как установить”, “куда ставится”, “не ставится”, “ошибка установки”, “где ярлык”, “как удалить”.

Q: как установить приложение
A: Запусти установщик, выбери папку, нажми Install. После установки открой с ярлыка на рабочем столе или из меню Пуск.

Q: как удалить приложение
A: Открой “Установка и удаление программ” в Windows → найди приложение → удалить. Или запусти uninstall.exe в папке установки.

Q: где лежат логи
A: Обычно electron-log пишет логи в папку пользователя AppData. Можно добавить кнопку “Открыть логи” через shell.openPath.

Q: приложение не открывается
A: Проверь антивирус, проверь что все файлы распакованы, запусти от имени администратора, посмотри логи.

Q: белый экран в electron
A: Обычно это проблема роутинга/путей (base: "./"), или фронт не загрузился, или ошибка JS. Открой DevTools и посмотри консоль.

Q: почему не работает hashrouter
A: В electron лучше HashRouter или base "./" в Vite. Проверь, что base задан и маршрутизация не ломается.

Q: почему пропадает состояние при переходе вкладки
A: Компонент размонтируется. Решение: сохранять state в localStorage или поднять состояние выше (в общий store).

Q: что делать если backend отдаёт 401
A: Значит токен неверный или отсутствует. Проверь localStorage auth_token и заголовок Authorization Bearer.

Q: почему patch запрос не работает
A: Проверь метод PATCH на сервере, проверь CORS, проверь endpoint, проверь body, проверь токен.

Q: как сделать чтобы free не мог больше 2 таймеров
A: Нужно считать активные таймеры и при статусе FREE блокировать создание третьего. VIP/PROMO/ADMIN — без ограничений.

Q: почему моя команда не распознается
A: Добавь именно такую строку в Q: (например “/promo”) и добавь несколько вариантов написания.

Q: как добавить ответы про ошибки опечаток
A: Для каждой частой ошибки добавь Q: “cannot find module”, “err_module_not_found”, “cannot use import” и ответы с шагами исправления.
